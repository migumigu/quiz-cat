{# å…¨æ–°æ„å»ºçš„æ¨¡æ¿æ–‡ä»¶ - æ‰‹åŠ¨è¾“å…¥ç¡®ä¿æ— éšè—å­—ç¬¦ #}
{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/game.css') }}">
{% endblock %}

{% block content %}
<div class="game-cards-container">
  <h2 class="course-title">{{ course.grade }}{{ course.subject }}{{ course.term }}</h2>
  
  <div class="cards-flow">
    {% for level in course.units|map(attribute='levels')|sum(start=[]) %}
    <div class="level-card {{ 'completed' if loop.index <= 2 else 'current' if loop.index == 3 else 'locked' }} 
              {{ 'boss-card' if level.is_boss else 'special-card' if level.is_midterm or level.is_final else '' }}"
         data-level-id="{{ level.id }}">
      <div class="card-icon">
        {% if loop.index <= 2 %}âœ“
        {% elif loop.index == 3 %}â—
        {% elif level.is_boss %}ğŸ°
        {% elif level.is_midterm %}ğŸ”„
        {% elif level.is_final %}ğŸ¯
        {% else %}{{ level.order }}{% endif %}
      </div>
      <div class="card-content">
        <h3>{{ level.title }}</h3>
        <p class="card-desc">
          {% if level.is_boss %}ç»ˆææŒ‘æˆ˜
          {% elif level.is_midterm %}æœŸä¸­æ£€æµ‹
          {% elif level.is_final %}æœŸæœ«è€ƒæ ¸
          {% else %}ç¬¬ {{ level.order }} å…³{% endif %}
        </p>
        <p class="card-status">
          {{ 'å·²å®Œæˆ' if loop.index <= 2 else 'è¿›è¡Œä¸­' if loop.index == 3 else 'å¾…è§£é”' }}
        </p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}